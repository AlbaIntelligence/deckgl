!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return createDeckGLProperties})),__webpack_require__.d(__webpack_exports__,"d",(function(){return logVersions})),__webpack_require__.d(__webpack_exports__,"c",(function(){return fixLayerProperties})),__webpack_require__.d(__webpack_exports__,"a",(function(){return convertColor}));var d3_color__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);function createDeckGLProperties(e,t){return Object.assign({mapboxApiAccessToken:t.mapboxApiAccessToken||"",mapStyle:t.mapStyle||"",container:e,initialViewState:t.initialViewState||createInitialViewState(t),views:t.views||new deck.MapView,controller:!0,layers:[]},t.properties)}function createInitialViewState(e){return{longitude:e.longitude,latitude:e.latitude,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing}}function logVersions(){console.log("deck.gl",deck.version),"undefined"!=typeof mapboxgl&&console.log("mapbox-gl",mapboxgl.version)}function fixLayerProperties(layers){for(let i=0;i<layers.length;i++){const properties=layers[i].properties;for(let key of Object.keys(properties))if("string"==typeof properties[key])try{properties[key]=eval(properties[key])}catch(e){}}}function convertColor(e){const t=Object(d3_color__WEBPACK_IMPORTED_MODULE_0__.a)(e);return[t.r,t.g,t.b,255*t.opacity]}},function(e,t,r){"use strict";(function(e){var n=r(0),i=r(2);e._deckWidget||(e._deckWidget={convertColor:n.a}),t.a=function(e,t,r){const o={};let a=null;const s=_deckWidget[e.id]={};function l(t){const r=t.map(t=>(t.properties.dataframeToD3&&(t.data=HTMLWidgets.dataframeToD3(t.data)),t.properties.data=t.data,Object(i.a)(t.className,t.properties,e)));a.setProps({layers:r})}return o.renderValue=function(t){console.log(t),Object(n.d)();const r=Object(n.b)(e.id,t);a=s.deckGL=new deck.DeckGL(r),l(t.layers)},o.resize=function(e,t){},HTMLWidgets.shinyMode&&Shiny.addCustomMessageHandler("proxythis",(function(e){const t=e.x;Object(n.c)(t.layers),console.log(t),l(t.layers)})),o}}).call(this,r(4))},function(e,t,r){"use strict";t.a=function(e,t,r){return HTMLWidgets.shinyMode&&(t.onClick=function(e){const t={lng:e.lngLat[0],lat:e.lngLat[1],object:e.object};Shiny.onInputChange(r.id+"_onclick",t)}),t.getTooltip&&(t.onHover=function({x:e,y:r,object:n}){const i=document.getElementsByClassName("deck-tooltip")[0];if(!n)return void(i.style.display="none");const o=t.getTooltip(n);t.fixedTooltip||(i.style.top=r+"px",i.style.left=e+"px"),i.innerHTML=o,i.style.display="block"}),new deck[e](t)}},function(e,t,r){"use strict";r.r(t);var n=r(1);HTMLWidgets.widget({name:"deckgl",type:"output",factory:n.a})},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var n=function(e,t,r){e.prototype=t.prototype=r,r.constructor=e};function i(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function o(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,u=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),h=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),p=new RegExp("^rgba\\("+[l,l,l,s]+"\\)$"),g=new RegExp("^hsl\\("+[s,l,l]+"\\)$"),f=new RegExp("^hsla\\("+[s,l,l,s]+"\\)$"),b={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(){return this.rgb().formatHex()}function m(){return this.rgb().formatRgb()}function w(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?_(t):3===r?new v(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?new v(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?new v(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=u.exec(e))?new v(t[1],t[2],t[3],1):(t=h.exec(e))?new v(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?k(t[1],t[2],t[3],t[4]):(t=p.exec(e))?k(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=g.exec(e))?O(t[1],t[2]/100,t[3]/100,1):(t=f.exec(e))?O(t[1],t[2]/100,t[3]/100,t[4]):b.hasOwnProperty(e)?_(b[e]):"transparent"===e?new v(NaN,NaN,NaN,0):null}function _(e){return new v(e>>16&255,e>>8&255,255&e,1)}function k(e,t,r,n){return n<=0&&(e=t=r=NaN),new v(e,t,r,n)}function x(e){return e instanceof o||(e=w(e)),e?new v((e=e.rgb()).r,e.g,e.b,e.opacity):new v}function v(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function M(){return"#"+j(this.r)+j(this.g)+j(this.b)}function N(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function j(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function O(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new S(e,t,r,n)}function L(e){if(e instanceof S)return new S(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=w(e)),!e)return new S;if(e instanceof S)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-i,c=(a+i)/2;return l?(s=t===a?(r-n)/l+6*(r<n):r===a?(n-t)/l+2:(t-r)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new S(s,l,c,e.opacity)}function S(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function T(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}n(o,w,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return L(this).formatHsl()},formatRgb:m,toString:m}),n(v,(function(e,t,r,n){return 1===arguments.length?x(e):new v(e,t,r,null==n?1:n)}),i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new v(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new v(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M,formatHex:M,formatRgb:N,toString:N})),n(S,(function(e,t,r,n){return 1===arguments.length?L(e):new S(e,t,r,null==n?1:n)}),i(o,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new S(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new S(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new v(T(e>=240?e-240:e+120,i,n),T(e,i,n),T(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))}]);