---
title: "IconLayer"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{IconLayer}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

The Icon Layer renders raster icons at given coordinates.

```{r icon-layer, eval = FALSE}
library(deckgl)

sample_data <- "https://raw.githubusercontent.com/uber-common/deck.gl-data/master/website/bart-stations.json"

# icon_atlas <- "https://deck.gl/images/icon-atlas.png"

properties <- list(
  pickable = TRUE,
  iconAtlas = encode_icon_atlas(), # icon_atlas,
  iconMapping = list(marker = icon_definition()),
  sizeScale = 15,
  getPosition = get_position(coordinates = "coordinates"),
  getIcon = JS("d => 'marker'"),
  getSize = 5,
  getColor = JS("d => [Math.sqrt(d.exits), 140, 0]"),
  getTooltip = JS ("object => `${object.name}\n${object.address}`")
)

deckgl(pitch = 45) %>%
  add_icon_layer(data = sample_data, properties = properties) %>%
  add_mapbox_basemap()

```

## See also

[deckgl-api-reference-icon-layer](https://deck.gl/#/documentation/deckgl-api-reference/layers/icon-layer)
